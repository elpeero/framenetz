<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discourse Network Analysis</title>

    
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Serif:ital,wght@0,400;0,600;1,400&family=IBM+Plex+Sans:wght@400;500;600&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Alegreya:ital,wght@0,400;0,700&family=Alegreya+SC:wght@400;700&display=swap" rel="stylesheet">

    
    <style>
        :root {
            --primary: #2c5aa0;
            --secondary: #e8491d;
            --tertiary: #f4a259;
            --bg-main: #fafafa;
            --bg-panel: #ffffff;
            --bg-canvas: #ffffff;
            --text-main: #1a1a1a;
            --text-muted: #666666;
            --text-light: #999999;
            --border: #e0e0e0;
            --shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
            --shadow-hover: 0 4px 20px rgba(0, 0, 0, 0.12);
            --radius: 8px;
            --transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            --overlay-bg: rgba(255, 255, 255, 0.95);
            --label-color: #000000;
        }

        [data-theme="dark"] {
            --primary: #5b8fd9;
            --secondary: #ff6b4a;
            --tertiary: #ffb87a;
            --bg-main: #0a0a0a;
            --bg-panel: #1a1a1a;
            --bg-canvas: #363636;
            --text-main: #f5f5f5;
            --text-muted: #a0a0a0;
            --text-light: #707070;
            --border: #2a2a2a;
            --shadow: 0 2px 12px rgba(0, 0, 0, 0.5);
            --shadow-hover: 0 4px 20px rgba(0, 0, 0, 0.7);
            --overlay-bg: rgba(26, 26, 26, 0.95);
            --label-color: #ffffff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'IBM Plex Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            font-size: 15px;
            line-height: 1.6;
            color: var(--text-main);
            background: var(--bg-main);
            overflow: hidden;
            transition: background 0.3s ease, color 0.3s ease;
        }

        h1, h2, h3 {
            font-family: 'IBM Plex Serif', Georgia, serif;
            font-weight: 600;
        }
		
		/* True small caps: prefer Alegreya SC, fall back to Alegreya or IBM Plex Serif */
		.smallcaps {
		  font-family: "Alegreya SC", "Alegreya", "IBM Plex Serif", Georgia, serif;
		  font-variant: small-caps;
		  font-feature-settings: "smcp" 1;
		  -webkit-font-variant: small-caps;
		  letter-spacing: 0.02em;
		  font-weight: 600;
		}
		
		#node-link {
			margin-top: -4px;       /* pulls it closer to the title */
			margin-bottom: 16px;    /* gives breathing room before metadata */
		}

		#node-link a {
			font-size: 14px;
			font-weight: 500;
			color: var(--primary);
			text-decoration: none;
			transition: var(--transition);
		}

		#node-link a:hover {
			color: var(--secondary);
			text-decoration: underline;
		}


        #container {
            width: 100vw;
            height: 100vh;
            display: flex;
            position: relative;
        }

        /* Graph Canvas */
        #sigma-container {
            flex: 1;
            background: var(--bg-canvas);
            position: relative;
            transition: background 0.3s ease;
        }

        /* Title Overlay */
        .graph-title {
            position: absolute;
            top: 24px;
            left: 24px;
            max-width: calc(100vw - 400px);
            z-index: 10;
            pointer-events: none;
        }

        .graph-title h1 {
            font-size: 20px;
            font-weight: 600;
            color: var(--text-main);
            background: var(--overlay-bg);
            padding: 12px 20px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            margin-bottom: 8px;
            backdrop-filter: blur(10px);
        }

        .graph-title .stats {
            font-size: 14px;
            color: var(--text-muted);
            background: var(--overlay-bg);
            padding: 8px 20px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            backdrop-filter: blur(10px);
        }

        /* Controls Panel (Right Side) */
        #controls {
            width: 360px;
            background: var(--bg-panel);
            border-left: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            box-shadow: -2px 0 20px rgba(0, 0, 0, 0.05);
        }

        .controls-header {
            padding: 24px;
            border-bottom: 1px solid var(--border);
            background: var(--bg-panel);
        }

        .controls-content {
            flex: 1;
            overflow-y: auto;
            padding: 24px;
        }

        .controls-content::-webkit-scrollbar {
            width: 6px;
        }

        .controls-content::-webkit-scrollbar-track {
            background: transparent;
        }

        .controls-content::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 3px;
        }

        /* Search Box */
        .search-wrapper {
            position: relative;
            margin-bottom: 24px;
        }

        .search-wrapper input {
            width: 100%;
            padding: 12px 16px 12px 44px;
            border: 2px solid var(--border);
            border-radius: var(--radius);
            font-size: 15px;
            font-family: 'IBM Plex Sans', sans-serif;
            transition: var(--transition);
            background: var(--bg-panel);
            color: var(--text-main);
        }

        .search-wrapper input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(44, 90, 160, 0.1);
        }

        .search-icon {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
            font-size: 18px;
        }

        /* Panel Sections */
        .panel {
            margin-bottom: 24px;
        }

        .panel h2 {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-main);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .panel-content {
            background: var(--bg-main);
            border-radius: var(--radius);
            padding: 16px;
        }

        .description-text {
            font-size: 14px;
            line-height: 1.7;
            color: var(--text-muted);
        }

        .description-text strong {
            color: var(--text-main);
        }

        /* Filter Items */
        .filter-item {
            display: flex;
            align-items: center;
            padding: 10px 12px;
            margin-bottom: 8px;
            background: var(--bg-panel);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            cursor: pointer;
            transition: var(--transition);
        }

        .filter-item:hover {
            border-color: var(--primary);
            box-shadow: 0 2px 8px rgba(44, 90, 160, 0.1);
        }

        .filter-item input[type="checkbox"] {
            width: 18px;
            height: 18px;
            margin-right: 12px;
            cursor: pointer;
            accent-color: var(--primary);
        }

        .filter-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            margin-right: 12px;
            border: 2px solid rgba(0, 0, 0, 0.1);
            flex-shrink: 0;
        }

        .filter-label {
            flex: 1;
            font-size: 14px;
            font-weight: 500;
            color: var(--text-main);
        }

        .filter-count {
            font-size: 13px;
            color: var(--text-muted);
            margin-left: 8px;
        }

        .filter-item:not(:has(input:checked)) {
            opacity: 0.5;
        }

        /* Buttons */
        .button-group {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
        }

        .btn {
            flex: 1;
            padding: 8px 16px;
            border: 1px solid var(--border);
            background: var(--bg-panel);
            color: var(--text-main);
            font-size: 13px;
            font-weight: 500;
            border-radius: var(--radius);
            cursor: pointer;
            transition: var(--transition);
            font-family: 'IBM Plex Sans', sans-serif;
        }

        .btn:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        /* Node Info Panel */
        #node-info {
            display: none;
            background: var(--bg-main);
            border-radius: var(--radius);
            padding: 20px;
            margin-bottom: 24px;
            border: 2px solid var(--primary);
        }

        #node-info.visible {
            display: block;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        #node-info h3 {
            font-size: 18px;
            color: var(--primary);
            margin-bottom: 12px;
        }

        .node-meta {
            display: grid;
            grid-template-columns: auto 1fr;
            gap: 8px 12px;
            margin-bottom: 16px;
            font-size: 13px;
        }

        .node-meta-label {
            font-weight: 600;
            color: var(--text-muted);
        }

        .node-meta-value {
            color: var(--text-main);
        }

        .data-points-header {
            font-weight: 600;
            color: var(--text-main);
            margin-bottom: 12px;
            font-size: 14px;
        }

        .data-points-list {
            max-height: 300px;
            overflow-y: auto;
            padding-right: 8px;
        }

        .data-point {
            background: var(--bg-panel);
            border-radius: var(--radius);
            padding: 12px;
            margin-bottom: 8px;
            border-left: 3px solid var(--primary);
            font-size: 13px;
            line-height: 1.5;
        }

        .data-point-text {
            color: var(--text-main);
            margin-bottom: 6px;
        }

        .data-point-citation {
            color: var(--text-muted);
            font-style: italic;
            font-size: 12px;
        }
		
		.btn.active {
		background: var(--primary);
		color: white;
		border-color: var(--primary);
	}

		/* Footer */
		.footer {
			position: absolute;
			bottom: 0;
			left: 0;
			right: 0;

			/* Visual + theming */
			background: var(--overlay-bg);
			border-top: 2px solid var(--border);
			backdrop-filter: blur(10px);
			z-index: 5;
			color: var(--text-muted);

			/* Typography */
			font-size: 11px;      /* from later rule */
			line-height: 1.2;     /* from later rule */

			/* Layout */
			display: flex;
			align-items: center;
			flex-wrap: wrap;
			padding: 4px;           /* compact footer */
			gap: 2px;               /* remove white space between items */
			/* if you want a tiny bit of breathing room: gap: 4px; */
		}

		.footer a {
			color: var(--primary);
			text-decoration: none;
			transition: var(--transition);

			/* local reset instead of global `a { ... }` */
			padding: 0;
			margin: 0;
		}

		.footer a:hover {
			text-decoration: underline;
			color: var(--secondary);
		}

		.footer-separator {
			color: var(--border);
		}


        /* Zoom Controls */
        .zoom-controls {
            position: absolute;
            bottom: 68px;
            left: 24px;
            z-index: 10;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .zoom-btn {
            width: 44px;
            height: 44px;
            background: var(--overlay-bg);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: var(--text-main);
            transition: var(--transition);
            backdrop-filter: blur(10px);
        }

        .zoom-btn:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            box-shadow: var(--shadow-hover);
        }

        /* Loading State */
        .loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: var(--text-main);
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid var(--border);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 16px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Icon placeholders */
        .icon {
            width: 16px;
            height: 16px;
            display: inline-block;
        }

        .icon-search::before { content: "üîç"; }
        .icon-cluster::before { content: "‚ö´"; }
        .icon-category::before { content: "üìÅ"; }
        .icon-info::before { content: "‚ÑπÔ∏è"; }
        .icon-plus::before { content: "+"; }
        .icon-minus::before { content: "‚àí"; }
        .icon-reset::before { content: "‚ü≤"; }
        .icon-fullscreen::before { content: "‚õ∂"; }
        .icon-moon::before { content: "üåô"; }
        .icon-sun::before { content: "‚òÄÔ∏è"; }
        .icon-download::before { content: "üíæ"; }

        /* Responsive */
        @media (max-width: 768px) {
            #controls {
                position: absolute;
                right: 0;
                top: 0;
                height: 100%;
                transform: translateX(100%);
                transition: transform 0.3s ease;
                z-index: 100;
            }

            #controls.visible {
                transform: translateX(0);
            }

            .graph-title {
                max-width: calc(100vw - 100px);
            }


            .zoom-controls {
                bottom: 56px;
            }
        }
    </style>
  <script type="module" crossorigin src="/framenetz/assets/index-khNLBnWk.js"></script>
</head>
<body>
    <div id="container">
        <!-- Graph Canvas -->
        <div id="sigma-container">
            <div class="loading" id="loading">
                <div class="spinner"></div>
                <div>Lade Netzwerk...</div>
            </div>
            
            <!-- Title Overlay -->
            <div class="graph-title">
                <h1 id="graph-title">Semantische Frames im Migrations- und Bildungsdiskurs der <i>tagesschau</i></h1>
                <div class="stats">
                    <span id="node-count">0</span> Knoten, 
                    <span id="edge-count">0</span> Kanten, Untersuchungszeitraum: Feb. 2022 ‚Äì Feb. 2025
                </div>
            </div>

            <!-- Zoom Controls -->
            <div class="zoom-controls">
                <button class="zoom-btn" id="zoom-in" title="Vergr√∂√üern">
                    <span class="icon icon-plus"></span>
                </button>
                <button class="zoom-btn" id="zoom-out" title="Verkleinern">
                    <span class="icon icon-minus"></span>
                </button>
                <button class="zoom-btn" id="zoom-reset" title="Zur√ºcksetzen">
                    <span class="icon icon-reset"></span>
                </button>
                <button class="zoom-btn" id="fullscreen" title="Vollbild">
                    <span class="icon icon-fullscreen"></span>
                </button>
                <button class="zoom-btn" id="theme-toggle" title="Dunkles / helles Farbschema">
                    <span class="icon icon-moon"></span>
                </button>
                <button class="zoom-btn" id="export-image" title="Bild exportieren">
                    <span class="icon icon-download"></span>
                </button>
            </div>

            <!-- Footer -->
            <div class="footer">Die Inhalte dieser Website sind lizenziert unter der <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank">CC BY-SA 4.0-Lizenz</a>. Davon ausgenommen sind Inhalte die anders lizenziert sind, insbesonders zitiertes urheberrechtsgesch√ºtztes Material. Diese Visualisierung nutzt die Open-Source-Bibliotheken <a href="https://www.sigmajs.org" target="_blank">Sigma.js</a> (MIT) und <a href="https://graphology.github.io" target="_blank">Graphology</a> (MIT) und wurde mit KI-Unterst√ºtzung durch die LLM-Chatbots claude.ai und copilot.microsoft.com erstellt. Weitere Informationen in der <a href="https://github.com/elpeero/framenetz/blob/main/LICENSE.md" target="_blank">Lizenz</a> und der <a href="https://github.com/elpeero/framenetz/blob/main/README.md" target="_blank">Readme-Datei</a>.</div>
        </div>

        <!-- Controls Panel -->
		<div id="controls">
		  <div class="controls-header">
			<div class="search-wrapper">
			  <span class="search-icon icon-search"></span>
			  <input
				type="search"
				id="search-input"
				placeholder="Nach Knoten suchen..."
				list="search-suggestions"
			  >
			  <datalist id="search-suggestions"></datalist>
			</div>
		  </div>

            <div class="controls-content">
                <!-- Node Info Panel -->
                <div id="node-info">
                    <h3 id="node-name"></h3>
					<div id="node-link"></div>
                    <div class="node-meta">
                        <span class="node-meta-label">Typ:</span>
                        <span class="node-meta-value" id="node-type"></span>
                        
                        <span class="node-meta-label">Verbindungen:</span>
                        <span class="node-meta-value" id="node-connections"></span>
                    </div>
                    <div class="data-points-header">Korpusbelege:</div>
                    <div class="data-points-list" id="node-data-points"></div>
                </div>

                <!-- Cluster Filters -->
                <div class="panel">
                    <h2><span></span>Diskursdom√§nen</h2>
                    <div class="button-group">
                        <button class="btn" onclick="checkAllClusters()">Alle ausw√§hlen</button>
                        <button class="btn" onclick="uncheckAllClusters()">Alle abw√§hlen</button>
                    </div>
                    <div id="cluster-filters"></div>
                </div>

				<!-- The way this function works right now, it leads to misleading impressions. Fix: nodes that appear partly in both migration and education discourse need to scale accordingly, not dis-/appear according to color of a node -->
                <!-- Category Filters -->
                <!-- <div class="panel"> -->
                    <!-- <h2><span></span>Diskurse</h2> -->
                    <!-- <div class="button-group"> -->
                        <!-- <button class="btn" onclick="checkAllCategories()">Alle ausw√§hlen</button> -->
                        <!-- <button class="btn" onclick="uncheckAllCategories()">Alle abw√§hlen</button> -->
                    <!-- </div> -->
                    <!-- <div id="category-filters"></div> -->
                <!-- </div> -->
				
				<div class="panel" id="discourse-mode-panel">
					<h2><span></span>Diskursmodus</h2>
					<div class="button-group">
						<button class="btn" onclick="setDiscourseMode('combined')">Beide</button>
						<button class="btn" onclick="setDiscourseMode('migration')">Migration</button>
						<button class="btn" onclick="setDiscourseMode('education')">Bildung</button>
					</div>
				</div>

				
				<!-- Description Panel -->
                <div class="panel">
                    <h2><span class="icon icon-info"></span> Beschreibung</h2>
                    <div class="panel-content">
                        <div class="description-text">
                            Dieses Netzwerk wurde als Begleitmaterial f√ºr Scholl (im Druck) erstellt. Es zeigt die Ergebnisse einer qualitativen Diskursanalyse im Migrations- und Bildungsdiskurs der Tagesschau im Zeitraum vom 30. M√§rz 2022 bis zum 24. Oktober 2024. Ein zentraler Bestandteil der Untersuchung ist die Analyse der Verbindungen zwischen Schl√ºsselwortkategorien (runde Knoten) und semantischen Frames (eckige Knoten).
							<br>
							Die Knoten und Kanten des Graphen sind nach Frequenz bzw. Gewicht skaliert. So l√§sst sich an der Gr√∂√üe der Knoten ablesen, welche Schl√ºsselw√∂rter/Frames am h√§ufigsten vorkommen, w√§hrend die St√§rke der Kanten anzeigt, wie oft eine Verbindung zwischen Schl√ºsselwortkategorien und Frames jeweils nachweisbar ist. Verbindung meint hier eine Koh√§renzrelation zwischen Schl√ºsselwort und Frame, auf textueller Ebene. In dieser Visualisierung wurden die Gr√∂√üenverh√§ltnisse der Knoten visuell angepasst, f√ºr eine bessere Lesbarkeit. Dabei wird die Gr√∂√üe aller Knoten um das 1,5-fache reduziert. Eine feste Mindestgr√∂√üe (2 px) stellt jedoch sicher, dass die kleinsten Knoten weiterhin sichtbar bleiben. 
							<br><br><strong>Verwendung:</strong><br><br>
							Diese Webseite ist eine interaktive Visualisierung des zu Grunde liegenden Netzwerkgraphen. Es kann zwischen einem dunklen üåô und einem hellen ‚òÄÔ∏è Modus gewechselt werden und die Netzwerkvisualisierung kann als PNG-Datei heruntergeladen üíæ werden. Durch Klick auf oder die Suche nach einem Knoten werden dessen Verbindungen zu anderen Knoten hervorgehoben. Ein Klick auf den Hintergrund l√∂st die Auswahl.<br>Es k√∂nnen zudem einzelne Diskursdom√§nen (Bildung/Migration/Arbeit/Gemischt) in der Visualisierung ein- bzw. ausgeblendet werden. Die Diskursdom√§nen ergeben sich aus den am st√§rksten mit einem jeweiligen Frame verbundenen Schl√ºsselwortkategorien. Wenn zwei oder mehr Schl√ºsselwortkategorien gleich h√§ufig mit einem Frame verbunden sind, wird dieser der Kategorie 'Gemischt' zugeordnet.<br><br>√úber die Taste Zur√ºcksetzen (unten links) wird der gesamte Graph zur√ºckgesetzt. Davon ausgenommen sind die neuen Positionen verschobener Knoten. Um die komplette Visualisierung zur√ºckzusetzen, laden Sie bitte die Webseite in Ihrem Browser neu.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


</body>
</html>
